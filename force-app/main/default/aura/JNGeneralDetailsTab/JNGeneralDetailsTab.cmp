<aura:component access="GLOBAL" controller="JNSiteController">
  <aura:handler name="init" action="{!c.doInit}" value="{!this}" />
  <aura:registerEvent type="c:JNComponentEvent" name="jnEvent" />
  <aura:attribute name="suffixes" type="String[]" />
  <aura:attribute name="genders" type="String[]" />
  <aura:attribute name="maritalStatuses" type="String[]" />
  <aura:attribute name="educationLevels" type="String[]" />
  <aura:attribute name="countries" type="String[]" />
  <aura:attribute name="titles" type="String[]" />
  <aura:attribute name="SiteLead" type="Object" />
  <aura:attribute name="maxdate" type="Date" />
  <aura:attribute name="mindate" type="Date" />
  <aura:attribute name="loan_type" type="String" />
  <aura:attribute name="readonlyFlag" type="Boolean" default="false" />
  <aura:method
    name="validateTabFields"
    action="{!c.validateTabFields}"
    access="public"
  />
  <aura:method
    name="createDetails"
    action="{!c.createDetails}"
    access="public"
  />
  <!-- <aura:handler name="change" value="{!v.SiteLead}" action="{!c.onSiteLeadChange}"/> -->
  <lightning:layout>
    <lightning:layoutItem size="12">
      <c:JnToast aura:id="toastContainer" />
      <!-- first row -->
      <div class="slds-grid slds-gutters">
        <!-- Title -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:select
            name="title"
            label="Salutation"
            onchange="{!c.getSalutation}"
            required="false"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          >
            <option value="">select one...</option>
            <aura:iteration items="{!v.titles}" var="item">
              <option value="{!item}">{!item}</option>
            </aura:iteration>
          </lightning:select>
        </div>
        <!-- First Name -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            name="first_name"
            label="First Name"
            required="true"
            value="{!v.SiteLead.FirstName }"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          />
        </div>
        <!-- Middle Name -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            name="middle_name"
            label="Middle Name"
            required="false"
            value="{!v.SiteLead.MiddleName }"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          />
        </div>
        <!-- Last Name -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            name="last_name"
            label="Last Name"
            required="true"
            value="{!v.SiteLead.LastName }"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          />
        </div>
      </div>
      <!-- second row -->
      <div class="slds-grid slds-gutters slds-m-top_large">
        <!-- Suffix -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            name="suffix"
            label="Suffix"
            required="false"
            aura:id="validation"
            value="{!v.SiteLead.Suffix}"
            maxlength="40"
            readonly="{!v.readonlyFlag}"
          />
        </div>
        <!-- Gender -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:select
            name="gender"
            label="Gender"
            onchange="{!c.getGender}"
            required="true"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          >
            <option value="">select one...</option>
            <aura:iteration items="{!v.genders}" var="item">
              <option value="{!item}">{!item}</option>
            </aura:iteration>
          </lightning:select>
        </div>
        <!-- Marital Status -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:select
            name="marital_status"
            label="Marital Status"
            required="true"
            onchange="{!c.getMaritalStatus}"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          >
            <option value="">select one...</option>
            <aura:iteration items="{!v.maritalStatuses}" var="item">
              <option value="{!item}">{!item}</option>
            </aura:iteration>
          </lightning:select>
        </div>
        <!-- Date of Birth -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            type="date"
            name="date_of_birth"
            label="Date of Birth"
            max="{!v.maxdate}"
            required="true"
            value="{!v.SiteLead.Date_of_Birth__c }"
            aura:id="validation"
            onblur="{!c.checkDateValidity }"
            readonly="{!v.readonlyFlag}"
          />
        </div>
      </div>

      <!-- third row -->
      <div class="slds-grid slds-gutters slds-m-top_large">
        <!-- Place of Birth -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            name="place_of_birth"
            label="Place of Birth"
            readonly="{!v.readonlyFlag}"
            required="true"
            value="{!v.SiteLead.Place_of_Birth__c }"
            aura:id="validation"
          />
        </div>
        <!-- Mother's Maiden Name -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            name="maiden_name"
            label="Mother's Maiden Name"
            required="true"
            value="{!v.SiteLead.Mother_s_Maiden_Name__c}"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          />
        </div>
        <!-- Number of Dependents (Adults)-->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            type="number"
            name="num_of_dependents_adults"
            label="Number of Dependents (Adults)"
            required="true"
            value="{!v.SiteLead.Number_of_Dependent_Adults__c}"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          />
        </div>
        <!-- Number of Dependents (Children)-->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            type="number"
            name="num_of_dependents_children"
            label="Number of Dependents (Children)"
            required="true"
            value="{!v.SiteLead.Number_of_Dependent_Children__c}"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          />
        </div>
      </div>

      <!-- fourth row -->
      <div class="slds-grid slds-gutters slds-m-top_large">
        <!-- Country of Citizenship -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:select
            name="country_of_citizenship"
            label="Country of Citizenship"
            required="true"
            readonly="{!v.readonlyFlag}"
            onchange="{!c.getCountryofCitizenship}"
            aura:id="validation"
          >
            <option value="Jamaica">Jamaica</option>
            <aura:iteration items="{!v.countries}" var="item">
              <option value="{!item}">{!item}</option>
            </aura:iteration>
          </lightning:select>
        </div>
        <!-- Country of Residence -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:select
            name="country_of_residence"
            label="Country of Residence"
            required="true"
            onchange="{!c.getCountryofResidence}"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          >
            <option value="Jamaica">Jamaica</option>
            <aura:iteration items="{!v.countries}" var="item">
              <option value="{!item}">{!item}</option>
            </aura:iteration>
          </lightning:select>
        </div>
        <!-- Highest Education Level -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:select
            name="highest_education_level"
            label="Highest Education Level"
            required="true"
            onchange="{!c.getEducationLevel}"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          >
            <option value="">select one...</option>
            <aura:iteration items="{!v.educationLevels}" var="item">
              <option value="{!item}">{!item}</option>
            </aura:iteration>
          </lightning:select>
        </div>
        <!-- TRN Number -->
        <div class="slds-col slds-size_3-of-12">
          <lightning:input
            type="text"
            name="trn_number"
            label="TRN Number"
            required="true"
            minlength="9"
            messageWhenPatternMismatch="please enter a valid trn number"
            pattern="^[0-9]{3}[0-9]{3}[0-9]{3}$"
            value="{!v.SiteLead.Jamaican_Tax_Registration_Number__c}"
            aura:id="validation"
            readonly="{!v.readonlyFlag}"
          />
        </div>
      </div>
    </lightning:layoutItem>
  </lightning:layout>
</aura:component>
